{% extends 'stats-wrapper.html' %}

{% load staticfiles %}

{% block sub-js %}
<script type="text/javascript" src="{% static 'js/show-chart.js' %}"></script>
{% endblock %}

{% block sub-css %}
<link rel="stylesheet" type="text/css" href="{% static 'css/stats.css' %}"/>
{% endblock %}

{% block body %}

<div class="stats">
    <div class="container stats-container">
        <div class="row row-centered">
            <div class="col-sm-12 col-centered disclaimer">
                <h5>All data used in Stride has been taken from MyAnimeList. Please visit MyAnimeList.net to see more information.</h5>
                <div class="row row-centered text-center">
                    
<!--
                    {% verbatim %}
                        <h5 class="">Show statistics for {{path_name}}</h5>
                    {% endverbatim %}
-->
                </div>
            </div>
        </div>

        
        <div class="row row-centered">
            
            <div class="col-sm-9 col-centered">
                <div ng-app="chartApp" ng-controller="chartController">
                    <div class="row row-centered">
                        <div id="idPeriodSelector" class="col-sm-12 col-centered ">
                            <div class="period-selector-container text-center">
<!--
                                {% verbatim %}
                                {{axis_labels}}
                                {{values}}
                                {% endverbatim %}
-->
                                <span id="period-selector-month" class="period-selector active" ng-click="setPeriodActive('period-selector-month'); drawChart(axis_labels['timestamp'],values[current_stat],'rgba(217,178,52,0.2)', 'rgba(249,195,12,0.5)')">
                                    <h6 class="period-label">Month</h6>
                                    
                                </span>
                                <span id="period-selector-season" class="period-selector" ng-click="setPeriodActive('period-selector-season'); drawChart(axis_labels['timestamp'],values[current_stat],'rgba(217,178,52,0.2)', 'rgba(249,195,12,0.5)')">
                                    <h6 class="period-label">Season</h6>
                                    
                                </span>
                                <span id="period-selector-year" class="period-selector" ng-click="setPeriodActive('period-selector-year'); drawChart(axis_labels['timestamp'],values[current_stat],'rgba(217,178,52,0.2)', 'rgba(249,195,12,0.5)')">
                                    <h6 class="period-label">Year</h6>
                                    
                                </span>
                                <span id="period-selector-all" class="period-selector" ng-click="setPeriodActive('period-selector-all'); drawChart(axis_labels['timestamp'],values[current_stat],'rgba(217,178,52,0.2)', 'rgba(249,195,12,0.5)')">
                                    <h6 class="period-label">All Time</h6>
                                    
                                </span>
                            </div>
                        </div>
                    </div>
                    <div id="chart-1-container" class="row row-centered row-chart-main chart-container">
            <!--            Chart.js scales to parent element size-->
            <!--            http://stackoverflow.com/questions/28162810/why-is-chart-js-canvas-not-respecting-the-padding-of-the-container-element-->


                        <canvas class="" id="chart-1"></canvas>
                    </div>
                    
                    <div class="row row-centered">
                        <div id="idChartSelector" class="col-sm-12 col-centered ">
                            <div class="chart-selector-container text-center">
                                <span id="chart-selector-members" class="chart-selector active" ng-click="drawChart(axis_labels['timestamp'],values['members'],'rgba(143,214,245,0.2)', 'rgba(143,214,245,0.5)'); setStatActive('chart-selector-members')">
                                    <h6 class="icon-md-label">Members</h6>
                                    <img class="icon-md" src="{% static 'img/icons/icon-members.png' %}">
                                </span>
                                <span id="chart-selector-popularity" class="chart-selector" ng-click="drawChart(axis_labels['timestamp'],values['popularity'],'rgba(174,73,195,0.2)', 'rgba(174,73,195,0.5)'); setStatActive('chart-selector-popularity')">
                                    <h6 class="icon-md-label">Popularity</h6>
                                    <img class="icon-md" src="{% static 'img/icons/icon-popularity.png' %}">
                                </span>
                                <span id="chart-selector-favorites" class="chart-selector" ng-click="drawChart(axis_labels['timestamp'],values['favorites'],'rgba(250,132,230,0.2)', 'rgba(250,132,230,0.5)'); setStatActive('chart-selector-favorites')">
                                    <h6 class="icon-md-label">Favorites</h6>
                                    <img class="icon-md" src="{% static 'img/icons/icon-heart.png' %}">
                                </span>
                                <span id="chart-selector-ranked" class="chart-selector" ng-click="drawChart(axis_labels['timestamp'],values['ranked'],'rgba(255,84,0,0.2)', 'rgba(255,84,0,0.5)'); setStatActive('chart-selector-ranked')">
                                    <h6 class="icon-md-label">Ranked</h6>
                                    <img class="icon-md" src="{% static 'img/icons/icon-updoot.png' %}">
                                </span>
                                <span id="chart-selector-score" class="chart-selector" ng-click="drawChart(axis_labels['timestamp'],values['score'],'rgba(217,178,52,0.2)', 'rgba(249,195,12,0.5)'); setStatActive('chart-selector-score')">
                                    <h6 class="icon-md-label">Score</h6>
                                    <img class="icon-md" src="{% static 'img/icons/icon-star.png' %}">
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                {% verbatim %}
<!--
                <div class="row row-centered">
                    <div id="idAppDisplay2" ng-app="displayApp" ng-controller="displayController">
                        <div class="col-sm-12 col-centered">
                            <div class="stats-side">
                                <div class="stats-side-header">
                                    <h6 class="side-name">{{show.name}}</h6>
                                    <p class="side-jpname">Japanese Name: {{show.japanese_name}}</p>
                                    <p class="side-synonyms">Synonyms: {{show.synonyms}}</p>
                                </div>
                                <div class="stats-side-body">
                                    <p>{{show.synopsis}}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
-->
                {% endverbatim %}
            </div>
            {% verbatim %}
            <div id="idAppDisplay" class="col-sm-3 col-centered portrait" ng-app="displayApp" ng-controller="displayController">
                <div class="portrait-container">
<!--                    <div class="row portrait-element-pad"><h4>{{show.name}}</h4></div>-->
                    <div class="row portrait-img">
                        <a ng-href="{{show.anime_url}}"><img ng-src="{{show.image_url}}" alt=""></a>
                    </div>
                </div>
                <div class="portrait-tags text-center">
                    <div class="portrait-name-wrapper"><h4 class="portrait-name">{{show.display_name}}</h4></div>
                    
                    <div class="row row-centered no-15px-margin center-span portrait-genre-box">
                        <p style="margin-bottom: 0.4rem;">
                            <span class="text-center" ng-repeat="genre in show.genres track by $index">
                                <span class="text-white text-genre-box">
                                    <span class="portrait-box-padding">{{genre}}</span>
                                </span>
                            </span>
                        </p>
                    </div>
                    <div class="row row-centered no-15px-margin center-span portrait-studio-box">
                        <p class="" style="margin-bottom: 0.4rem;">
                            <span class="text-center" ng-repeat="studio in show.studios track by $index">
                                <span class="text-white text-studio-box">
                                    <span class="portrait-box-padding">{{studio}}</span>
                                </span>
                            </span>
                            
                        </p>
                    </div>
<!--
                    <div class="row row-centered no-15px-margin portrait-description text-margin-bottom-04rem">
                        <div class="col-12">
                            <div class="row portrait-description-element">
                                <div class="col-6">
                                    <div class="portrait-description-attr">
                                        <p>Media: </p>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="portrait-description-item">
                                        <p>{{show.media}}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="row portrait-description-element">
                                <div class="col-6">
                                    <div class="portrait-description-attr">
                                        <p>Episodes: </p>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="portrait-description-item">
                                        <p>{{show.episodes}}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="row portrait-description-element">
                                <div class="col-6">
                                    <div class="portrait-description-attr">
                                        <p>Aired: </p>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="portrait-description-item">
                                        <p>{{show.aired}}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="row portrait-description-element">
                                <div class="col-6">
                                    <div class="portrait-description-attr">
                                        <p>Licensors: </p>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="portrait-description-item">
                                        <p>{{show.licensors}}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="row portrait-description-element">
                                <div class="col-6">
                                    <div class="portrait-description-attr">
                                        <p>Source: </p>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="portrait-description-item">
                                        <p>{{show.source}}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="row portrait-description-element">
                                <div class="col-6">
                                    <div class="portrait-description-attr">
                                        <p>Rating: </p>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="portrait-description-item">
                                        <p>{{show.rating}}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="row portrait-description-element">
                                <div class="col-6">
                                    <div class="portrait-description-attr">
                                        <p>Duration: </p>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="portrait-description-item">
                                        <p>{{show.duration}}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
-->
                </div>
                
            </div>
            {% endverbatim %}
        </div>
        
        
    </div>
    
    
    <div class="container stats-container">
        <div id="idBasicStats" ng-app="basicStatsApp" ng-controller="basicStatsController">
            {% verbatim %}
            
<!--
            <div class="row row-centered text-margin-top-10px text-margin-bottom-15px">
                <h6 class="side-name">Statistics for show {{show.name}}</h6>
            </div>
-->
            <div class="row row-centered text-margin-top-10px">
                <div class="col-9 col-centered">
                    <div id="chart-1-container" class="row row-centered row-chart-main chart-container">
                    <!--            Chart.js scales to parent element size-->
                    <!--            http://stackoverflow.com/questions/28162810/why-is-chart-js-canvas-not-respecting-the-padding-of-the-container-element-->


                        <canvas class="" id="hist-1"></canvas>
                    </div>
                </div>
                <div class="col-3 col-centered">
                    <h5>Statistics:</h5>
                    <h6>Mean Rating: {{show.mean}}</h6>
                    <h6>Variance: {{show.var}}</h6>
                    <h6>Standard Deviation: {{show.std}}</h6>
                    <p>(Note that the zero ratings consist of MAL members who have the show in their anime list but have not assigned it a rating. They are not taken into account when calculating statistical properties of the data.)</p>
                </div>
            </div>
<!--
            <div class="row row-centered">
                <div class="col-6 col-centered">
                    <h6 id="no-data" style="visibility: hidden;">No data for this show.</h6>
                    <h6>Mean Rating: {{show.mean}}</h6>
                    <h6>Variance: {{show.var}}</h6>
                    <h6>Standard Deviation: {{show.std}}</h6>
                    <p>(Note that the zero ratings consist of MAL members who have the show in their anime list but have not assigned it a rating. They are not taken into account when calculating statistical properties of the data.)</p>
                </div>
            </div>
-->
            {% endverbatim %}
        </div>
    </div>
    <div class="container stats-container">
        <div id="idItemRec" ng-app="itemRecApp" ng-controller="itemRecController">
            {% verbatim %}
            <div class="row row-centered">
                <div class="col-sm-12 col-centered">
                    <div class="row row-centered">
                        <h6 class="text-margin-top-10px">If you liked this show, you may also like: </h6>
                    </div>
                    <div class="row row-centered top-bottom-border">
                        <div class="showcase-container-wrapper" ng-repeat="show in shows">
                            <div class="showcase-container">
                                <div class="">
                                    <a href="{{show.stride_url}}"><img ng-src="{{show.image_url}}"></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% endverbatim %}
        </div>
    </div>
</div>

{% endblock %}